(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[15],{144:function(e,t,a){"use strict";a.r(t);var r=a(159),n=a.n(r),c=a(161),i=a(31),o=a(32),s=a(33),l=a(51),u=a(34),p=a(35),d=a(0),f=a(268),b=a(179),m=a(184),v=a(160),j=a(185),O=a(4),h={colors:"#86a315",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Consumption (kW)"},x={colors:"#e37222",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Consumption (m3/h)"},w=function(e){var t,a=e.data,r=e.id;"ECT"===r&&(t=h),"ACT"===r&&(t=x);var n=[{id:r,data:[{x:(new Date).toISOString(),y:0}]}],c="undefined"!=typeof a[0].data&&a[0].data.length>0?a:n;return Object(O.jsx)(j.a,Object(i.a)(Object(i.a)({},t),{},{data:c}))},y=a(150),g=a(151),A=a(931),E=a.n(A),C=function(e){return"currentValueDropdown".concat(e)},D=a(169),k=a(182),T=a(175),Z=a(172),V=a(379),R=a(381),S=a(162),_=a.n(S),N={icon:Object(O.jsx)(R.a,{}),title:"Electricity consumption",type:3},P={icon:Object(O.jsx)(V.a,{}),title:"Air consumption",type:3},I={icon:Object(O.jsx)(R.a,{}),title:"Electricity consumption",type:3},M={icon:Object(O.jsx)(V.a,{}),title:"Air consumption",type:3},F=["Error",{description:"Sensor device not found."}],H=_.a.range(1,7),L=(_.a.map(H,(function(e){return{key:e,text:"EC-".concat(e),value:e}})),_.a.range(1,7)),B=(_.a.map(L,(function(e){return{key:e,text:"AC-".concat(e),value:e}})),a(1087)),W=function(e,t,a){var r;switch(t){case"ACD":r="/air/".concat(e,"/deck-").concat(a);break;case"ECD":r="/electricity/".concat(e,"/deck-").concat(a);break;case"ACT":r="/air/".concat(e,"/").concat(a);break;case"ECT":r="/electricity/".concat(e,"/").concat(a)}return r},q=function(e,t){var a;switch(t){case"ACD":case"ACT":a="consumption_air_".concat(e,".csv");break;case"ECD":case"ECT":a="consumption_electricity_".concat(e,".csv")}return a},U=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,i,o,s,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r instanceof Array,!("string"===typeof r)){e.next=16;break}return i=W(t,a,r),o=!1,e.prev=5,e.next=8,k.a.get(Z.d,i);case 8:o=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),B.a.danger.apply(B.a,Object(D.a)(F)),console.error("[connectServer]: Request to server API failed (GET)");case 15:return e.abrupt("return",o);case 16:if(!c){e.next=30;break}return s=q(t,a),l=!1,e.prev=19,e.next=22,k.a.post(Z.d,"/",{filename:s,timeRange:r});case 22:l=e.sent,e.next=29;break;case 25:e.prev=25,e.t1=e.catch(19),B.a.danger.apply(B.a,Object(D.a)(F)),console.error("[connectServer]: Request to server API failed (POST)");case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}}),e,null,[[5,11],[19,25]])})));return function(t,a,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,a,r);case 2:i=e.sent,e.t0=a,e.next="ACD"===e.t0||"ECD"===e.t0?6:"ACT"===e.t0||"ECT"===e.t0?8:10;break;case 6:return c=T.a.run(i,r,1),e.abrupt("break",11);case 8:return c=i,e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,e.next=4,Z.d.get("/dropdowns/".concat(t));case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("[getDataForDropdown]: Request to server API failed (GET)"),e.abrupt("return",a);case 11:return e.abrupt("return",r.data);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(e=t.call.apply(t,[this].concat(s))).optionsDropdownEC=[{key:1,text:"EC1",value:1}],e.optionsDropdownAC=[{key:1,text:"AC1",value:1}],e.state={api:{dataACD:{average:{avgTimeRange:0,avgPrevTimeRange:0},maxValue:0,minValue:0},dataECD:{average:{avgTimeRange:0,avgPrevTimeRange:0},maxValue:0,minValue:0},dataACT:[],dataECT:[]},currentTimeRange:{currentTimeRangeACD:"week",currentTimeRangeACT:"week",currentTimeRangeECD:"week",currentTimeRangeECT:"week"},currentValueDropdown:{currentValueDropdownACD:1,currentValueDropdownACT:1,currentValueDropdownECD:1,currentValueDropdownECT:1}},e.updateDropdownState=function(t,a,r){var n=a.value;return e.setState((function(e){var t="currentValueDropdown".concat(r),a=Object(i.a)({},e);return a.currentValueDropdown[t]=n,{nextUpdate:a}}))},e.getDataFromServer=function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.state.currentValueDropdown[C(a)],t.next=3,G(c,a,r);case 3:o=t.sent,e.setState((function(e){var t=Object(i.a)({},e),n="data".concat(a),c="currentTimeRange".concat(a);return t.currentTimeRange[c]=r,t.api[n]=o,{nextUpdate:t}}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.createContextValues=function(t){var a=e.state.currentValueDropdown,r=Object(l.a)(e),n={getDataFromServer:r.getDataFromServer,updateDropdownState:r.updateDropdownState};return t.map((function(e){return Object(i.a)(Object(i.a)({},n),{},{id:e,currentValueDropdown:a["currentValueDropdown".concat(e)]})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{key:1,text:"EC1",value:1}],a=[{key:1,text:"AC1",value:1}],e.next=4,J("electricity",t);case 4:return this.optionsDropdownEC=e.sent,e.next=7,J("air",a);case 7:this.optionsDropdownAC=e.sent,this.updateDataOnScreen(),this.timerID=setInterval((function(){return r.updateDataOnScreen()}),36e5);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"updateDataOnScreen",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.currentTimeRange,r=t.currentValueDropdown,i=["ACD","ACT","ECD","ECT"],e.next=4,Promise.all(i.map(function(){var e=Object(c.a)(n.a.mark((function e(t){var c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r["currentValueDropdown".concat(t)],i=a["currentTimeRange".concat(t)],e.next=4,G(c,t,i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:o=e.sent,this.setState({api:{dataACD:o[0],dataACT:o[1],dataECD:o[2],dataECT:o[3]}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.createContextValues,t=this.optionsDropdownAC,a=this.optionsDropdownEC,r=this.state.api,n=r.dataACT,c=r.dataACD,o=r.dataECT,s=r.dataECD,l=this.state.currentTimeRange,u=l.currentTimeRangeACD,p=l.currentTimeRangeECD,d=e(["ECT","ACT","ECD","ACD"]),j=Object(O.jsx)(f.a,{data:c,timeRange:u,units:"m3/h"}),h=Object(O.jsx)(f.a,{data:s,timeRange:p,units:"kW"}),x=Object(O.jsx)(b.a,{options:a}),A=Object(O.jsx)(b.a,{options:t}),C=Object(O.jsx)(w,{id:"ACT",data:[{id:"Airflow",data:n}]}),D=Object(O.jsx)(w,{id:"ECT",data:[{id:"Electricity",data:o}]});return Object(O.jsxs)(y.a,{className:E.a.electricityAir,children:[Object(O.jsxs)(g.a,{className:E.a.left,children:[Object(O.jsx)("div",{className:E.a.top,children:Object(O.jsx)(v.a.Provider,{value:d[0],children:Object(O.jsx)(m.a,Object(i.a)(Object(i.a)({},N),{},{graph:D,dropdown:x}))})}),Object(O.jsx)("div",{className:E.a.bottom,children:Object(O.jsx)(v.a.Provider,{value:d[1],children:Object(O.jsx)(m.a,Object(i.a)(Object(i.a)({},P),{},{graph:C,dropdown:A}))})})]}),Object(O.jsxs)(g.a,{className:E.a.right,children:[Object(O.jsx)("div",{className:E.a.top,children:Object(O.jsx)(v.a.Provider,{value:d[2],children:Object(O.jsx)(m.a,Object(i.a)(Object(i.a)({},I),{},{graph:h,dropdown:x}))})}),Object(O.jsx)("div",{className:E.a.bottom,children:Object(O.jsx)(v.a.Provider,{value:d[3],children:Object(O.jsx)(m.a,Object(i.a)(Object(i.a)({},M),{},{graph:j,dropdown:A}))})})]})]})}}]),a}(d.Component);t.default=K},179:function(e,t,a){"use strict";var r=a(0),n=a(1086),c=a(160),i=a(180),o=a.n(i),s=a(4);t.a=function(e){var t=e.options,a=Object(r.useContext)(c.a),i=a.id,l=a.currentValueDropdown,u=a.updateDropdownState;return Object(s.jsx)(n.a,{className:o.a.dropdown,options:t,placeholder:"Select",selection:!0,onChange:function(e,t){var a=t.value;return u(e,{value:a},i)},value:l})}},180:function(e,t,a){e.exports={dropdown:"Dropdown_dropdown__37I9C"}},191:function(e,t,a){"use strict";a(0),a(192);var r=a(4);t.a=function(e){var t=e.icon,a=e.units,n=e.value;return Object(r.jsxs)("div",{className:"cardWithoutFooter",children:[Object(r.jsx)("div",{className:"header",children:t}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("span",{className:"value",children:n}),Object(r.jsx)("span",{className:"units",children:a})]})]})}},192:function(e,t,a){},208:function(e,t,a){"use strict";a(0),a(209);var r=a(4);t.a=function(e){var t=e.cards;return Object(r.jsx)("div",{className:"deck",children:t.map((function(e,t){return Object(r.jsx)("div",{className:"cardBox",children:e},t)}))})}},209:function(e,t,a){},268:function(e,t,a){"use strict";var r=a(31),n=a(0),c=a(206),i=a(191),o=a(207);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),p=n.createElement("path",{className:"cls-1",d:"M4,4V6H28V4Zm12,5.7-5.62,4.5a1,1,0,0,0,1.24,1.56L15,13.08V28h2V13.08l3.38,2.7A1,1,0,0,0,21,16a1,1,0,0,0,.78-.38,1,1,0,0,0-.16-1.4Z"}),d=n.createElement("rect",{className:"cls-2",width:32,height:32});function f(e,t){var a=e.title,r=e.titleId,c=l(e,["title","titleId"]);return n.createElement("svg",s({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,u,p,d)}var b=n.forwardRef(f);a.p;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var j=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),O=n.createElement("path",{className:"cls-1",d:"M4,26v2H28V26Zm12-3.72,5.62-4.5a1,1,0,1,0-1.24-1.56L17,18.92V4H15V18.92l-3.38-2.7a1,1,0,0,0-1.24,1.56Z"}),h=n.createElement("rect",{className:"cls-2",width:32,height:32});function x(e,t){var a=e.title,r=e.titleId,c=v(e,["title","titleId"]);return n.createElement("svg",m({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,j,O,h)}var w=n.forwardRef(x),y=(a.p,a(4)),g=function(e){return 1===e.type?Object(y.jsx)(c.a,Object(r.a)(Object(r.a)({},e),{},{icon:Object(y.jsx)(o.a,{})})):2===e.type?Object(y.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{icon:Object(y.jsx)(b,{})})):3===e.type?Object(y.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{icon:Object(y.jsx)(w,{})})):void 0},A=a(208),E=a(175),C=E.a.setFooterLabel,D=E.a.setFooterValue;t.a=function(e){var t=e.data,a=e.timeRange,c=e.units,i=t.average,o=i.avgTimeRange,s=i.avgPrevTimeRange,l=[{label:C(a,o,s),previousValue:D(a,s,c),type:1,value:o,units:c},{type:2,value:t.maxValue,units:c},{type:3,value:t.minValue,units:c}].map((function(e){return Object(y.jsx)(g,Object(r.a)({},e))}));return Object(y.jsx)(n.Fragment,{children:Object(y.jsx)(A.a,{cards:l})})}},379:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(0);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=r.createElement("defs",null,r.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),o=r.createElement("path",{className:"cls-1",d:"M4,13a1,1,0,1,0-1-1A1,1,0,0,0,4,13Zm1,2a1,1,0,1,0,1,1A1,1,0,0,0,5,15Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,8,15Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,11,15Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,14,15Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,17,15Zm2,1a1,1,0,1,0,1-1A1,1,0,0,0,19,16Zm4,1a1,1,0,1,0-1-1A1,1,0,0,0,23,17ZM4,19a1,1,0,1,0,1,1A1,1,0,0,0,4,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,7,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,10,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,13,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,16,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,19,19Zm3,0a1,1,0,1,0,1,1A1,1,0,0,0,22,19Zm3,3a1,1,0,1,0-1-1A1,1,0,0,0,25,22Zm1,1a1,1,0,1,0,1,1A1,1,0,0,0,26,23Zm-2,2a1,1,0,1,0,1,1A1,1,0,0,0,24,25Zm-3-1a1,1,0,1,0,1,1A1,1,0,0,0,21,24Zm5-9a1,1,0,1,0,1,1A1,1,0,0,0,26,15Zm2-2a1,1,0,1,0,1,1A1,1,0,0,0,28,13Zm-2,0a1,1,0,1,0-1-1A1,1,0,0,0,26,13ZM7,13a1,1,0,1,0-1-1A1,1,0,0,0,7,13Zm3,0a1,1,0,1,0-1-1A1,1,0,0,0,10,13Zm3,0a1,1,0,1,0-1-1A1,1,0,0,0,13,13Zm2-1a1,1,0,1,0,1-1A1,1,0,0,0,15,12Zm4,1a1,1,0,1,0-1-1A1,1,0,0,0,19,13Zm1-3a1,1,0,1,0,1-1A1,1,0,0,0,20,10Zm0-2a1,1,0,1,0-1-1A1,1,0,0,0,20,8ZM17,7a1,1,0,1,0-1-1A1,1,0,0,0,17,7ZM15,9a1,1,0,1,0-1-1A1,1,0,0,0,15,9Z"}),s=r.createElement("rect",{className:"cls-2",width:32,height:32});function l(e,t){var a=e.title,l=e.titleId,u=c(e,["title","titleId"]);return r.createElement("svg",n({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":l},u),a?r.createElement("title",{id:l},a):null,i,o,s)}var u=r.forwardRef(l);a.p},381:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(0);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=r.createElement("defs",null,r.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),o=r.createElement("path",{className:"cls-1",d:"M13,30a.84.84,0,0,1-.38-.08A1,1,0,0,1,12,28.84L13.82,18H7a1,1,0,0,1-.82-.42,1,1,0,0,1-.12-.92l5-14A1,1,0,0,1,12,2h8a1,1,0,0,1,.81.42,1,1,0,0,1,.14.9L18.39,11H25a1,1,0,0,1,.89.54,1,1,0,0,1-.07,1l-12,17A1,1,0,0,1,13,30ZM8.42,16H15a1,1,0,0,1,1,1,1,1,0,0,1,0,.17l-1.28,7.69L23.07,13H17a1,1,0,0,1-.81-.42,1,1,0,0,1-.14-.9L18.61,4h-5.9Z"}),s=r.createElement("rect",{className:"cls-2",width:32,height:32});function l(e,t){var a=e.title,l=e.titleId,u=c(e,["title","titleId"]);return r.createElement("svg",n({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":l},u),a?r.createElement("title",{id:l},a):null,i,o,s)}var u=r.forwardRef(l);a.p},931:function(e,t,a){e.exports={electricityAir:"ElectricityAir_electricityAir__269Cn",left:"ElectricityAir_left__2VxNe",top:"ElectricityAir_top__2z1-m",bottom:"ElectricityAir_bottom__2pwst",right:"ElectricityAir_right__3KDKN"}}}]);
//# sourceMappingURL=15.1674a6e5.chunk.js.map