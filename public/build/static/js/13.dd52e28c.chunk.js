(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[13],{139:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(159),c=a.n(r),o=a(161),i=a(32),l=a(33),s=a(34),u=a(35),b=a(0),d=a(79),f=a(269),m=a(1096),p=a(135),h=a(1101),j=(a(795),a(4)),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.data,r=e.id,c=e.onCancel,o=e.onDownload,i=e.title,l=e.visibility,s={key:"cancel",type:"primary",onClick:c.bind(this,r)},u={icon:Object(j.jsx)(h.a,{}),key:"download",type:"primary",onClick:function(e){return o(e,a,r)}};return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{title:i,visible:l,centered:!0,onCancel:c.bind(this,r),closable:!1,width:"90%",height:"90%",footer:[Object(j.jsx)(p.a,Object(n.a)(Object(n.a)({},s),{},{children:"Close"})),Object(j.jsx)(p.a,Object(n.a)(Object(n.a)({},u),{},{children:"Donwload"}))],children:t})})}}]),a}(b.Component),v=a(255),x=a(195),y=a(26);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var g=b.createElement("defs",null,b.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),N=b.createElement("path",{className:"cls-1",d:"M26,7H10A1,1,0,0,0,9,8V28a1,1,0,0,0,1,1H26a1,1,0,0,0,1-1V8A1,1,0,0,0,26,7ZM25,27H11V9H25ZM23,11H13v2H23Zm0,4H13v2H23Zm0,4H13v2H23Zm0,4H13v2H23ZM7,5H21V6h2V4a1,1,0,0,0-1-1H6A1,1,0,0,0,5,4V24a1,1,0,0,0,1,1H8V23H7Z"}),_=b.createElement("rect",{className:"cls-2",width:32,height:32});function D(e,t){var a=e.title,n=e.titleId,r=B(e,["title","titleId"]);return b.createElement("svg",w({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":n},r),a?b.createElement("title",{id:n},a):null,g,N,_)}var E=b.forwardRef(D);a.p;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=b.createElement("defs",null,b.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),A=b.createElement("path",{className:"cls-1",d:"M3,9H19.12a4,4,0,0,0,7.72,0H29a1,1,0,1,0,0-2H26.84a4,4,0,0,0-7.72,0H3A1,1,0,0,0,3,9ZM23,6a2,2,0,1,1-2,2A2,2,0,0,1,23,6Z"}),T=b.createElement("path",{className:"cls-1",d:"M29,17a1,1,0,1,0,0-2H12.84a4,4,0,0,0-7.72,0H3a1,1,0,0,0,0,2H5.12a4,4,0,0,0,7.72,0ZM9,18a2,2,0,1,1,2-2A2,2,0,0,1,9,18Z"}),I=b.createElement("path",{className:"cls-1",d:"M29.85,23.63a9,9,0,0,0-16.7,0L13,24l.15.38A9,9,0,0,0,25,29.31a9.12,9.12,0,0,0,4.88-4.92L30,24ZM21.5,28a6.93,6.93,0,0,1-6.35-4,7,7,0,0,1,9.47-3.27A7.15,7.15,0,0,1,27.85,24,6.93,6.93,0,0,1,21.5,28Z"}),R=b.createElement("path",{className:"cls-1",d:"M21.5,20.16A3.84,3.84,0,1,0,25.36,24a3.81,3.81,0,0,0-3.86-3.84Zm0,5.68A1.84,1.84,0,1,1,23.38,24a1.86,1.86,0,0,1-1.88,1.84Z"}),S=b.createElement("path",{className:"cls-1",d:"M11,23H3a1,1,0,0,0,0,2h8Z"}),M=b.createElement("rect",{className:"cls-2",width:32,height:32});function Z(e,t){var a=e.title,n=e.titleId,r=k(e,["title","titleId"]);return b.createElement("svg",H({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":n},r),a?b.createElement("title",{id:n},a):null,C,A,T,I,R,S,M)}var L=b.forwardRef(Z),P=(a.p,a(1102)),U=a(801),V=a.n(U),z=a(162),F=a.n(z),$=a(802),J={icon:Object(j.jsx)(E,{}),title:"Batch overview",type:1},Y={columns:[{field:"date",headerName:"Date",sortable:!0,type:"date",flex:1},{field:"startTime",headerName:"Start time",sortable:!0,type:"string",flex:1},{field:"stopTime",headerName:"Stop time",sortable:!0,type:"string",flex:1},{field:"batchNumber",headerName:"Batch number",sortable:!0,flex:1},{field:"duration",headerName:"Duration",sortable:!0,type:"number",flex:1},{field:"color",headerName:"Color code",sortable:!0,type:"string",flex:1}],pageSize:7},G={columns:[{field:"batchNumber",headerName:"Batch number",sortable:!0,type:"string",flex:1},{field:"air",headerName:"Air",sortable:!0,type:"number",flex:1},{field:"assistAir",headerName:"Assist air",sortable:!0,type:"number",flex:1},{field:"airCompensation",headerName:"Air compensation",sortable:!0,type:"number",flex:1},{field:"pumpMode",headerName:"Pump mode",type:"string",sortable:!0,flex:1},{field:"kV",headerName:"kV",sortable:!0,type:"number",flex:1},{field:"uA",headerName:"uA",sortable:!0,type:"number",flex:1},{field:"afc",headerName:"AFC",sortable:!0,type:"boolean",flex:1},{field:"beforeSpray",headerName:"Before spray",sortable:!0,type:"number",flex:1},{field:"afterSpray",headerName:"After spray",sortable:!0,type:"number",flex:1},{field:"enableGun",headerName:"Enable gun",sortable:!0,type:"boolean",flex:1}],pageSize:7},X=["Error",{description:"No data available"}],q=a(171),W=function(e){return!1!==e&&!F.a.isEmpty(e)},K=function(e){var t=e.data,a=Object(f.a)(e,["data"]),r=V.a.mainContent,c=V.a.buttonBox,o=V.a.tableBox,i=function(e,t){return t(e)?{detailsData:e.map((function(e){return e.details})),overviewData:e.map((function(e,t){var a=e.overview;return{id:t,date:Object(q.a)(a.date).format("YYYY/MM/DD HH:mm"),startTime:a.startTime,stopTime:a.stopTime,batchNumber:a.batchNumber,duration:a.duration,color:a.color}})),parametersData:e.map((function(e,t){var a=e.parameters;return Object(n.a)({id:t},a)}))}:{detailsData:[],overviewData:[],parametersData:[]}}(t,W),l=i.detailsData,s=i.overviewData,u=i.parametersData,m=Object(b.useRef)(null),h=Object(b.useState)({}),w=Object(d.a)(h,2),B=w[0],g=w[1],N=Object(b.useState)(!1),_=Object(d.a)(N,2),D=_[0],H=_[1],k=Object(b.useState)(!1),C=Object(d.a)(k,2),A=C[0],T=C[1],I=function(e,t,a){var n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(n),c=Object($.a)({length:10});m.current.href=r;var o="BD"===a?"batchDetails_".concat(c,".json"):"batchParameters_".concat(c,".json");m.current.setAttribute("download",o),m.current.click(),URL.revokeObjectURL(r),"BD"===a&&H(!1),"BP"===a&&T(!1)};function R(e){return"BD"===e?H(!1):T(!1)}var S={id:"BD",title:Object(j.jsx)(x.a,{title:"Batch details",icon:Object(j.jsx)(E,{})}),visibility:D,onCancel:R,onDownload:I},M={id:"BP",title:Object(j.jsx)(x.a,{title:"Batch parameters",icon:Object(j.jsx)(L,{})}),visibility:A,onCancel:R,onDownload:I},Z=0;F.a.isEmpty(B)||F.a.isEmpty(l)||(Z=B.rowData.id);var U={overview:s[Z],details:l[Z]};return Object(j.jsxs)("div",{className:r,children:[Object(j.jsx)("div",{className:c,children:Object(j.jsx)(p.a,{type:"primary",icon:Object(j.jsx)(P.a,{}),onClick:T,children:"Parameters"})}),Object(j.jsx)("div",{className:o,children:Object(j.jsx)(v.a,Object(n.a)(Object(n.a)({rows:s},a),{},{onCellDoubleClick:function(e,t){var a=e.field,n=e.row;g({trigger:a,rowData:n}),H(!0)},enableToolbar:!0}))}),Object(j.jsx)(O,Object(n.a)(Object(n.a)({data:Object(n.a)({},U)},S),{},{children:Object(j.jsx)(y.b,{data:{processedData:i,index:Z}})})),Object(j.jsx)(O,Object(n.a)(Object(n.a)({data:{parametersData:u}},M),{},{children:Object(j.jsx)(v.a,Object(n.a)(Object(n.a)({rows:u},G),{},{onCellDoubleClick:function(e){},enableToolbar:!1}))})),Object(j.jsx)("a",{ref:m,style:{display:"none"},children:"downloadLink"})]})},Q=a(194),ee=a(378),te=a.n(ee),ae=a(169),ne=a(172),re=a(1087),ce=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,ne.b.get("/batchs/all");case 4:t=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),re.a.danger.apply(re.a,Object(ae.a)(X)),console.error("[getDataForTable]: Request to server API failed (GET)");case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={api:{dataTableBI:[]}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,this.setState({api:{dataTableBI:t.data}});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.api.dataTableBI,t=te.a.batchOverview,a=te.a.tableBox,r=te.a.titleBarBox;return Object(j.jsxs)("div",{className:t,children:[Object(j.jsx)("div",{className:r,children:Object(j.jsx)(Q.a,Object(n.a)({},J))}),Object(j.jsx)("div",{className:a,children:Object(j.jsx)(K,Object(n.a)({data:e},Y))})]})}}]),a}(b.Component);t.default=oe},165:function(e,t,a){},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(237),r=a(238),c=a(239),o=a(240),i=a(241);a(242),a(243);n.extend(r),n.extend(c),n.extend(o),n.extend(i);var l=function(e,t){return t?n(e,t):n.utc(e)},s=function(e){var t=function(e){return e<=9?"0".concat(e):e},a=l(e),n=a.$y,r=a.$M,c=a.$D,o=a.$H,i=a.$m,s=a.$s,u=t(c),b=t(r+1),d=t(o),f=t(i),m=t(s);return"".concat(u,".").concat(b,".").concat(n," ").concat(d,":").concat(f,":").concat(m)}},172:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return f}));var n=a(253),r=a.n(n),c=r.a.create({baseURL:"/consumption/air-pressure"}),o=r.a.create({baseURL:"/production/color-change"}),i=r.a.create({baseURL:"/consumption/electricity-air"}),l=r.a.create({baseURL:"/consumption/fresh-powder"}),s=r.a.create({baseURL:"/consumption/humidity-temperature"}),u=r.a.create({baseURL:"/production/monitoring"}),b=r.a.create({baseURL:"/consumption/powder-type"}),d=r.a.create({baseURL:"/consumption/sprayed-powder"}),f=r.a.create({baseURL:"/batch-information"})},194:function(e,t,a){"use strict";a(0);var n=a(150),r=a(151),c=(a(165),a(4));t.a=function(e){var t=e.dropdown,a=e.icon,o=e.title;return Object(c.jsxs)(n.a,{className:"titleBar",children:[Object(c.jsx)(r.a,{className:"col wx icon",children:a}),Object(c.jsx)(r.a,{className:"col wy textFormat",children:o}),Object(c.jsx)(r.a,{className:"col wz textFormat",children:t})]})}},195:function(e,t,a){"use strict";a(0);var n=a(150),r=a(151),c=(a(165),a(4));t.a=function(e){var t=e.icon,a=e.title;return Object(c.jsxs)(n.a,{className:"titleBar",children:[Object(c.jsx)(r.a,{className:"col wa icon",children:t}),Object(c.jsx)(r.a,{className:"col wb textFormat",children:a})]})}},255:function(e,t,a){"use strict";a(0);var n=a(350),r=(a(258),a(4));t.a=function(e){var t=e.rows,a=e.columns,c=e.pageSize,o=e.onCellDoubleClick,i=e.enableToolbar;return Object(r.jsx)(n.a,{components:{Toolbar:i&&n.b},columns:a,className:"dataTable",pageSize:c,rows:t,onCellDoubleClick:function(e){return o(e)},disableSelectionOnClick:!0})}},258:function(e,t,a){},378:function(e,t,a){e.exports={batchOverview:"BatchInformation_batchOverview__2oFBk",batchTable:"BatchInformation_batchTable__1ZzaA",titleBarBox:"BatchInformation_titleBarBox__1lPht",tableBox:"BatchInformation_tableBox__wWHsk",batchDetails:"BatchInformation_batchDetails__25G3j",left:"BatchInformation_left__3B6ro",right:"BatchInformation_right__1vT8e",top:"BatchInformation_top__2Asdi",bottom:"BatchInformation_bottom__2OjDe"}},795:function(e,t,a){},801:function(e,t,a){e.exports={mainContent:"Table_mainContent__340JD",buttonBox:"Table_buttonBox__3XXIh",tableBox:"Table_tableBox__3Rsxg"}},810:function(e,t){},812:function(e,t){},823:function(e,t){},825:function(e,t){},852:function(e,t){},854:function(e,t){},855:function(e,t){},860:function(e,t){},862:function(e,t){},881:function(e,t){},893:function(e,t){},896:function(e,t){}}]);
//# sourceMappingURL=13.dd52e28c.chunk.js.map