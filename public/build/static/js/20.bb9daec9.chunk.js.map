{"version":3,"sources":["../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/arc.js","../../src/PieSlice.tsx","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../src/PieTooltip.tsx","../../src/props.ts","../../src/hooks.ts","../node_modules/d3-shape/src/pie.js","../../src/RadialLabel.tsx","../../src/RadialLabels.tsx","../../src/SliceLabels.tsx","../../src/PieLegends.tsx","../../src/Pie.tsx","../../src/ResponsivePie.tsx","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../src/PieCanvas.tsx"],"names":["a","b","NaN","d","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x0","y0","x1","y1","x2","y2","x3","y3","x10","y10","x32","y32","t","epsilon","cornerTangents","r1","rc","cw","x01","y01","lo","sqrt","ox","oy","x11","y11","x00","y00","dx","dy","d2","r","D","max","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","PieSlice","datum","path","borderWidth","borderColor","isInteractive","onClick","onMouseEnter","onMouseMove","onMouseLeave","tooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleTooltip","useCallback","event","createElement","handleMouseEnter","handleMouseMove","handleMouseLeave","handleClick","fill","strokeWidth","stroke","undefined","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","forEach","getOwnPropertyDescriptors","defineProperties","defaultProps","id","sortByValue","cornerRadius","layers","fit","from","modifiers","radialLabel","enableRadialLabels","radialLabelsSkipAngle","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsTextXOffset","radialLabelsTextColor","theme","radialLabelsLinkColor","enableSliceLabels","sliceLabel","sliceLabelsSkipAngle","sliceLabelsRadiusOffset","sliceLabelsTextColor","colors","scheme","defs","enableChip","color","legends","role","pixelRatio","window","useNormalizedData","data","valueFormat","getId","useMemo","getValue","formatValue","useValueFormatter","getColor","getOrdinalColorScale","datumId","datumValue","normalizedDatum","label","formattedValue","usePieArcs","pie","innerPie","identity","sortValues","descending","sort","constant","tau","j","k","a1","v","n","sum","index","Array","arcs","a0","this","da","Math","min","p","abs","pa","_","degreesToRadians","angle","arc","angleDeg","radiansToDegrees","usePieArcGenerator","radius","padRadius","context","buffer","r0","halfPi","moveTo","cos","sin","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","asin","p1","oc","pi","ax","ay","bx","by","kc","acos","lc","atan2","lineTo","closePath","centroid","d3Arc","usePieFromBox","width","height","innerRadiusRatio","dataWithArc","computedProps","centerX","centerY","computeArcBoundingBox","points","box","ratio","adjustedBox","boundingBox","debug","arcGenerator","usePieSliceLabels","enable","skipAngle","radiusOffset","textColor","useTheme","getTextColor","useInheritedColor","getLabel","getLabelGenerator","datumWithArc","midAngle","labelRadius","position","positionFromAngle","datumTextColor","usePieRadialLabels","textXOffset","linkOffset","linkDiagonalLength","linkHorizontalLength","linkColor","getLinkColor","absoluteAngleRadians","positionA","positionB","absoluteAngleDegrees","positionC","x","y","labelPosition","textAlign","text","align","line","lineGenerator","RadialLabel","linkStrokeWidth","style","transform","textAnchor","textPropsByEngine","dominantBaseline","RadialLabels","radialLabels","labelData","sliceStyle","pointerEvents","SliceLabels","labelAccessor","labels","PieLegends","containerWidth","containerHeight","withContainer","partialMargin","margin","_borderColor","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","normalizedData","boundDefs","bindDefs","layerById","slices","sliceLabels","layerContext","usePieLayerContext","layer","ResponsivePie","_arrayLikeToArray","arr","len","arr2","_slicedToArray","isArray","arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","iterableToArrayLimit","o","minLen","arrayLikeToArray","toString","slice","constructor","name","test","unsupportedIterableToArray","TypeError","nonIterableRest","canvasEl","useRef","getBorderColor","useEffect","ctx","point","drawRadialLabels","drawSliceLabels","legend","renderLegendToCanvas","getArcFromMouse","getRelativeCursor","hoveredArc","getHoveredArc","handleMouseHover","ref","cursor"],"mappings":"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","file":"static/js/20.bb9daec9.chunk.js","sourcesContent":["export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import React, { createElement, useCallback } from 'react'\n// @ts-ignore\nimport { useTooltip } from '@nivo/tooltip'\nimport { ComputedDatum, CompletePieSvgProps } from './types'\n\ninterface PieSliceProps<RawDatum> {\n    datum: ComputedDatum<RawDatum>\n    path: string\n    borderWidth: CompletePieSvgProps<RawDatum>['borderWidth']\n    borderColor: string\n    isInteractive: CompletePieSvgProps<RawDatum>['isInteractive']\n    tooltip: CompletePieSvgProps<RawDatum>['tooltip']\n    onClick: CompletePieSvgProps<RawDatum>['onClick']\n    onMouseEnter: CompletePieSvgProps<RawDatum>['onMouseEnter']\n    onMouseMove: CompletePieSvgProps<RawDatum>['onMouseMove']\n    onMouseLeave: CompletePieSvgProps<RawDatum>['onMouseLeave']\n}\n\n// prettier-ignore\nexport const PieSlice = <RawDatum, >({\n    datum,\n    path,\n    borderWidth,\n    borderColor,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    tooltip,\n}: PieSliceProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleTooltip = useCallback(\n        event => showTooltipFromEvent(createElement(tooltip, { datum }), event),\n        [showTooltipFromEvent, datum, tooltip]\n    )\n\n    const handleMouseEnter = useCallback(\n        event => {\n            onMouseEnter?.(datum, event)\n            handleTooltip(event)\n        },\n        [onMouseEnter, handleTooltip, datum]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            onMouseMove?.(datum, event)\n            handleTooltip(event)\n        },\n        [onMouseMove, handleTooltip, datum]\n    )\n\n    const handleMouseLeave = useCallback(\n        event => {\n            onMouseLeave?.(datum, event)\n            hideTooltip(event)\n        },\n        [onMouseLeave, hideTooltip, datum]\n    )\n\n    const handleClick = useCallback(\n        event => {\n            onClick?.(datum, event)\n        },\n        [onClick, datum]\n    )\n\n    return (\n        <path\n            d={path}\n            fill={datum.fill || datum.color}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleMouseMove : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport { BasicTooltip } from '@nivo/tooltip'\nimport { ComputedDatum } from './types'\n\n// prettier-ignore\nexport const PieTooltip = <RawDatum, >({ datum }: { datum: ComputedDatum<RawDatum> }) => (\n    <BasicTooltip\n        id={datum.id}\n        value={datum.formattedValue}\n        enableChip={true}\n        color={datum.color}\n    />\n)\n\nexport default PieTooltip\n","import { OrdinalColorsInstruction } from '@nivo/colors'\nimport { PieTooltip } from './PieTooltip'\n\nexport const defaultProps = {\n    id: 'id',\n    value: 'value',\n    sortByValue: false,\n    innerRadius: 0,\n    padAngle: 0,\n    cornerRadius: 0,\n\n    layers: ['slices', 'radialLabels', 'sliceLabels', 'legends'],\n\n    // layout\n    startAngle: 0,\n    endAngle: 360,\n    fit: true,\n\n    // border\n    borderWidth: 0,\n    borderColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    // radial labels\n    radialLabel: 'id',\n    enableRadialLabels: true,\n    radialLabelsSkipAngle: 0,\n    radialLabelsLinkOffset: 0,\n    radialLabelsLinkDiagonalLength: 16,\n    radialLabelsLinkHorizontalLength: 24,\n    radialLabelsLinkStrokeWidth: 1,\n    radialLabelsTextXOffset: 6,\n    radialLabelsTextColor: { theme: 'labels.text.fill' },\n    radialLabelsLinkColor: { theme: 'axis.ticks.line.stroke' },\n\n    // slices labels\n    enableSliceLabels: true,\n    sliceLabel: 'formattedValue',\n    sliceLabelsSkipAngle: 0,\n    sliceLabelsRadiusOffset: 0.5,\n    sliceLabelsTextColor: { theme: 'labels.text.fill' },\n\n    // styling\n    colors: ({ scheme: 'nivo' } as unknown) as OrdinalColorsInstruction,\n    defs: [],\n    fill: [],\n\n    // interactivity\n    isInteractive: true,\n\n    // tooltip\n    tooltip: PieTooltip,\n\n    // legends\n    legends: [],\n\n    role: 'img',\n\n    pixelRatio: window?.devicePixelRatio ?? 1,\n}\n","import { useMemo } from 'react'\nimport { get } from 'lodash'\n// @ts-ignore\nimport { arc as d3Arc, pie as d3Pie } from 'd3-shape'\nimport {\n    // @ts-ignore\n    degreesToRadians,\n    // @ts-ignore\n    radiansToDegrees,\n    // @ts-ignore\n    useValueFormatter,\n    // @ts-ignore\n    computeArcBoundingBox,\n    // @ts-ignore\n    useTheme,\n    // @ts-ignore\n    positionFromAngle,\n    // @ts-ignore\n    midAngle,\n    // @ts-ignore\n    getLabelGenerator,\n    // @ts-ignore\n    absoluteAngleRadians,\n    // @ts-ignore\n    absoluteAngleDegrees,\n} from '@nivo/core'\nimport {\n    // @ts-ignore\n    getOrdinalColorScale,\n    // @ts-ignore\n    useInheritedColor,\n    OrdinalColorsInstruction,\n    InheritedColorProp,\n} from '@nivo/colors'\nimport { defaultProps } from './props'\nimport {\n    CompletePieSvgProps,\n    ComputedDatum,\n    PieArc,\n    PieArcGenerator,\n    LabelAccessorFunction,\n    PieCustomLayerProps,\n    RadialLabelData,\n    SliceLabelData,\n} from './types'\n\ninterface MayHaveLabel {\n    label?: string | number\n}\n\n/**\n * Format data so that we get a consistent data structure.\n * It will also add the `formattedValue` and `color` property.\n */\nexport const useNormalizedData = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    colors = defaultProps.colors as OrdinalColorsInstruction,\n}: Pick<CompletePieSvgProps<RawDatum>, 'id' | 'value' | 'valueFormat' | 'colors'> & {\n    data: RawDatum[]\n}): Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[] => {\n    const getId = useMemo(() => (typeof id === 'function' ? id : (d: RawDatum) => get(d, id)), [id])\n    const getValue = useMemo(\n        () => (typeof value === 'function' ? value : (d: RawDatum) => get(d, value)),\n        [value]\n    )\n    const formatValue = useValueFormatter(valueFormat as any)\n\n    const getColor = useMemo(() => getOrdinalColorScale(colors, 'id'), [colors])\n\n    return useMemo(\n        () =>\n            data.map(datum => {\n                const datumId = getId(datum)\n                const datumValue = getValue(datum)\n\n                const normalizedDatum: Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'> = {\n                    id: datumId,\n                    label: datum.label ?? datumId,\n                    value: datumValue,\n                    formattedValue: formatValue(datumValue),\n                    data: datum,\n                }\n\n                return {\n                    ...normalizedDatum,\n                    color: getColor(normalizedDatum),\n                }\n            }),\n        [data, getId, getValue, formatValue, getColor]\n    )\n}\n\n/**\n * Compute arcs, which don't depend yet on radius.\n */\nexport const usePieArcs = <RawDatum>({\n    data,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n}: {\n    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[]\n    startAngle: number\n    endAngle: number\n    padAngle: number\n    sortByValue: boolean\n}): Omit<ComputedDatum<RawDatum>, 'fill'>[] => {\n    const pie = useMemo(() => {\n        const innerPie = d3Pie()\n            .value((d: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>) => d.value)\n            .padAngle(degreesToRadians(padAngle))\n            .startAngle(degreesToRadians(startAngle))\n            .endAngle(degreesToRadians(endAngle))\n\n        if (sortByValue !== true) innerPie.sortValues(null)\n\n        return innerPie\n    }, [startAngle, endAngle, padAngle, sortByValue])\n\n    return useMemo(\n        () =>\n            pie(data).map(\n                (\n                    arc: Omit<PieArc, 'angle' | 'angleDeg'> & {\n                        data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>\n                    }\n                ) => {\n                    const angle = Math.abs(arc.endAngle - arc.startAngle)\n\n                    return {\n                        ...arc.data,\n                        arc: {\n                            index: arc.index,\n                            startAngle: arc.startAngle,\n                            endAngle: arc.endAngle,\n                            padAngle: arc.padAngle,\n                            angle,\n                            angleDeg: radiansToDegrees(angle),\n                        },\n                    }\n                }\n            ),\n\n        [pie, data]\n    )\n}\n\nexport const usePieArcGenerator = ({\n    radius,\n    innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n}: {\n    radius: number\n    innerRadius: number\n    cornerRadius: number\n}): PieArcGenerator =>\n    useMemo(() => d3Arc().outerRadius(radius).innerRadius(innerRadius).cornerRadius(cornerRadius), [\n        radius,\n        innerRadius,\n        cornerRadius,\n    ])\n\n/**\n * Compute pie layout using explicit radius/innerRadius,\n * expressed in pixels.\n */\nexport const usePie = <RawDatum>({\n    data,\n    radius,\n    innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    'startAngle' | 'endAngle' | 'padAngle' | 'sortByValue' | 'cornerRadius'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    radius: number\n    innerRadius: number\n}) => {\n    const dataWithArc = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n    })\n\n    const arcGenerator = usePieArcGenerator({\n        radius,\n        innerRadius,\n        cornerRadius,\n    })\n\n    return { dataWithArc, arcGenerator }\n}\n\n/**\n * Compute pie layout using a box to find radius/innerRadius,\n * expressed in ratio (0~1), can optionally use the `fit`\n * attribute to find the most space efficient layout.\n *\n * It also returns `centerX`/`centerY` as those can be altered\n * if `fit` is `true`.\n */\nexport const usePieFromBox = <RawDatum>({\n    data,\n    width,\n    height,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    fit = defaultProps.fit,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    | 'width'\n    | 'height'\n    | 'innerRadius'\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'fit'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n}) => {\n    const dataWithArc = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n    })\n\n    const computedProps = useMemo(() => {\n        let radius = Math.min(width, height) / 2\n        let innerRadius = radius * Math.min(innerRadiusRatio, 1)\n\n        let centerX = width / 2\n        let centerY = height / 2\n\n        let boundingBox\n        if (fit) {\n            const { points, ...box } = computeArcBoundingBox(\n                centerX,\n                centerY,\n                radius,\n                startAngle - 90,\n                endAngle - 90\n            )\n            const ratio = Math.min(width / box.width, height / box.height)\n\n            const adjustedBox: {\n                width: number\n                height: number\n                x?: number\n                y?: number\n            } = {\n                width: box.width * ratio,\n                height: box.height * ratio,\n            }\n            adjustedBox.x = (width - adjustedBox.width) / 2\n            adjustedBox.y = (height - adjustedBox.height) / 2\n\n            centerX = ((centerX - box.x) / box.width) * box.width * ratio + adjustedBox.x\n            centerY = ((centerY - box.y) / box.height) * box.height * ratio + adjustedBox.y\n\n            boundingBox = { box, ratio, points }\n\n            radius = radius * ratio\n            innerRadius = innerRadius * ratio\n        }\n\n        return {\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n            debug: boundingBox,\n        }\n    }, [width, height, innerRadiusRatio, startAngle, endAngle, fit, cornerRadius])\n\n    const arcGenerator = usePieArcGenerator({\n        radius: computedProps.radius,\n        innerRadius: computedProps.innerRadius,\n        cornerRadius,\n    })\n\n    return {\n        dataWithArc,\n        arcGenerator,\n        ...computedProps,\n    }\n}\n\nexport const usePieSliceLabels = <RawDatum>({\n    enable,\n    dataWithArc,\n    skipAngle,\n    radius,\n    innerRadius,\n    radiusOffset,\n    label,\n    textColor,\n}: {\n    enable: boolean\n    dataWithArc: ComputedDatum<RawDatum>[]\n    skipAngle: number\n    radius: number\n    innerRadius: number\n    radiusOffset: number\n    label: string | LabelAccessorFunction<RawDatum>\n    textColor: InheritedColorProp<ComputedDatum<RawDatum>>\n}): SliceLabelData<RawDatum>[] => {\n    const theme = useTheme()\n    const getTextColor = useInheritedColor(textColor, theme)\n    const getLabel = useMemo(() => getLabelGenerator(label), [label])\n\n    return useMemo(() => {\n        if (!enable) return []\n\n        return dataWithArc\n            .filter(datumWithArc => skipAngle === 0 || datumWithArc.arc.angleDeg > skipAngle)\n            .map(datumWithArc => {\n                const angle = midAngle(datumWithArc.arc) - Math.PI / 2\n                const labelRadius = innerRadius + (radius - innerRadius) * radiusOffset\n                const position = positionFromAngle(angle, labelRadius)\n                const datumTextColor = getTextColor(datumWithArc)\n\n                return {\n                    ...position,\n                    label: getLabel(datumWithArc),\n                    textColor: datumTextColor,\n                    datum: datumWithArc,\n                }\n            })\n    }, [enable, dataWithArc, skipAngle, radius, innerRadius, radiusOffset, getLabel, getTextColor])\n}\n\nexport const usePieRadialLabels = <RawDatum>({\n    enable,\n    dataWithArc,\n    label,\n    textXOffset,\n    textColor,\n    radius,\n    skipAngle,\n    linkOffset,\n    linkDiagonalLength,\n    linkHorizontalLength,\n    linkColor,\n}: {\n    enable: boolean\n    dataWithArc: ComputedDatum<RawDatum>[]\n    label: string | LabelAccessorFunction<RawDatum>\n    textXOffset: number\n    textColor: InheritedColorProp<ComputedDatum<RawDatum>>\n    radius: number\n    skipAngle: number\n    linkOffset: number\n    linkDiagonalLength: number\n    linkHorizontalLength: number\n    linkColor: InheritedColorProp<ComputedDatum<RawDatum>>\n}): RadialLabelData<RawDatum>[] => {\n    const getLabel = useMemo(() => getLabelGenerator(label), [label])\n\n    const theme = useTheme()\n    const getTextColor = useInheritedColor(textColor, theme)\n    const getLinkColor = useInheritedColor(linkColor, theme)\n\n    return useMemo(() => {\n        if (!enable) return []\n\n        return dataWithArc\n            .filter(datum => skipAngle === 0 || datum.arc.angleDeg > skipAngle)\n            .map(datum => {\n                const angle = absoluteAngleRadians(midAngle(datum.arc) - Math.PI / 2)\n                const positionA = positionFromAngle(angle, radius + linkOffset)\n                const positionB = positionFromAngle(angle, radius + linkOffset + linkDiagonalLength)\n\n                let positionC\n                let labelPosition\n                let textAlign\n\n                if (\n                    absoluteAngleDegrees(radiansToDegrees(angle)) < 90 ||\n                    absoluteAngleDegrees(radiansToDegrees(angle)) >= 270\n                ) {\n                    positionC = { x: positionB.x + linkHorizontalLength, y: positionB.y }\n                    labelPosition = {\n                        x: positionB.x + linkHorizontalLength + textXOffset,\n                        y: positionB.y,\n                    }\n                    textAlign = 'left'\n                } else {\n                    positionC = { x: positionB.x - linkHorizontalLength, y: positionB.y }\n                    labelPosition = {\n                        x: positionB.x - linkHorizontalLength - textXOffset,\n                        y: positionB.y,\n                    }\n                    textAlign = 'right'\n                }\n\n                return {\n                    text: getLabel(datum),\n                    textColor: getTextColor(datum),\n                    position: labelPosition,\n                    align: textAlign,\n                    line: [positionA, positionB, positionC],\n                    linkColor: getLinkColor(datum),\n                    datum,\n                }\n            })\n    }, [\n        dataWithArc,\n        skipAngle,\n        radius,\n        linkOffset,\n        linkDiagonalLength,\n        linkHorizontalLength,\n        textXOffset,\n        getLabel,\n        getTextColor,\n        getLinkColor,\n    ])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const usePieLayerContext = <RawDatum>({\n    dataWithArc,\n    arcGenerator,\n    centerX,\n    centerY,\n    radius,\n    innerRadius,\n}: {\n    dataWithArc: ComputedDatum<RawDatum>[]\n    arcGenerator: PieArcGenerator\n    centerX: number\n    centerY: number\n    radius: number\n    innerRadius: number\n}): PieCustomLayerProps<RawDatum> =>\n    useMemo(\n        () => ({\n            dataWithArc,\n            arcGenerator,\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n        }),\n        [dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius]\n    )\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import React from 'react'\n// @ts-ignore\nimport { line } from 'd3-shape'\n// @ts-ignore\nimport { textPropsByEngine, useTheme } from '@nivo/core'\nimport { RadialLabelData, Point } from './types'\n\nconst lineGenerator = line()\n    .x((d: Point) => d.x)\n    .y((d: Point) => d.y)\n\n// prettier-ignore\nexport const RadialLabel = <RawDatum, >({ label, linkStrokeWidth }: {\n    label: RadialLabelData<RawDatum>\n    linkStrokeWidth: number\n}) => {\n    const theme = useTheme()\n\n    return (\n        <>\n            <path\n                d={lineGenerator(label.line)}\n                fill=\"none\"\n                style={{ fill: 'none', stroke: label.linkColor }}\n                strokeWidth={linkStrokeWidth}\n            />\n            <g transform={`translate(${label.position.x}, ${label.position.y})`}>\n                <text\n                    textAnchor={textPropsByEngine.svg.align[label.align]}\n                    dominantBaseline=\"central\"\n                    style={{\n                        ...theme.labels.text,\n                        fill: label.textColor,\n                    }}\n                >\n                    {label.text}\n                </text>\n            </g>\n        </>\n    )\n}\n","import React from 'react'\nimport { usePieRadialLabels } from './hooks'\nimport { RadialLabel } from './RadialLabel'\nimport { ComputedDatum, CompletePieSvgProps } from './types'\n\ninterface RadialLabelsProps<RawDatum> {\n    dataWithArc: ComputedDatum<RawDatum>[]\n    label: CompletePieSvgProps<RawDatum>['radialLabel']\n    skipAngle: CompletePieSvgProps<RawDatum>['radialLabelsSkipAngle']\n    radius: number\n    linkOffset: CompletePieSvgProps<RawDatum>['radialLabelsLinkOffset']\n    linkDiagonalLength: CompletePieSvgProps<RawDatum>['radialLabelsLinkDiagonalLength']\n    linkHorizontalLength: CompletePieSvgProps<RawDatum>['radialLabelsLinkHorizontalLength']\n    linkStrokeWidth: CompletePieSvgProps<RawDatum>['radialLabelsLinkStrokeWidth']\n    textXOffset: CompletePieSvgProps<RawDatum>['radialLabelsTextXOffset']\n    textColor: CompletePieSvgProps<RawDatum>['radialLabelsTextColor']\n    linkColor: CompletePieSvgProps<RawDatum>['radialLabelsLinkColor']\n}\n\n// prettier-ignore\nexport const RadialLabels = <RawDatum, >({\n    dataWithArc,\n    label,\n    radius,\n    skipAngle,\n    linkOffset,\n    linkDiagonalLength,\n    linkHorizontalLength,\n    linkStrokeWidth,\n    textXOffset,\n    textColor,\n    linkColor,\n}: RadialLabelsProps<RawDatum>) => {\n    const radialLabels = usePieRadialLabels<RawDatum>({\n        enable: true,\n        dataWithArc,\n        label,\n        textXOffset,\n        textColor,\n        radius,\n        skipAngle,\n        linkOffset,\n        linkDiagonalLength,\n        linkHorizontalLength,\n        linkColor,\n    })\n\n    return (\n        <>\n            {radialLabels.map(labelData => (\n                <RadialLabel key={labelData.datum.id} label={labelData} linkStrokeWidth={linkStrokeWidth} />\n            ))}\n        </>\n    )\n}\n","import React, { CSSProperties } from 'react'\n// @ts-ignore\nimport { useTheme } from '@nivo/core'\nimport { usePieSliceLabels } from './hooks'\nimport { CompletePieSvgProps, ComputedDatum } from './types'\n\nconst sliceStyle: CSSProperties = {\n    pointerEvents: 'none',\n}\n\ninterface SliceLabelsProps<RawDatum> {\n    dataWithArc: ComputedDatum<RawDatum>[]\n    label: CompletePieSvgProps<RawDatum>['sliceLabel']\n    radiusOffset: CompletePieSvgProps<RawDatum>['sliceLabelsRadiusOffset']\n    radius: number\n    innerRadius: number\n    skipAngle: CompletePieSvgProps<RawDatum>['sliceLabelsSkipAngle']\n    textColor: CompletePieSvgProps<RawDatum>['sliceLabelsTextColor']\n}\n\n// prettier-ignore\nexport const SliceLabels = <RawDatum, >({\n    dataWithArc,\n    label: labelAccessor,\n    radius,\n    innerRadius,\n    radiusOffset,\n    skipAngle,\n    textColor,\n}: SliceLabelsProps<RawDatum>) => {\n    const theme = useTheme()\n\n    const labels = usePieSliceLabels({\n        enable: true,\n        dataWithArc,\n        skipAngle,\n        radius,\n        innerRadius,\n        radiusOffset,\n        label: labelAccessor,\n        textColor,\n    })\n\n    return (\n        <>\n            {labels.map(label => (\n                <g\n                    key={label.datum.id}\n                    transform={`translate(${label.x}, ${label.y})`}\n                    style={sliceStyle}\n                >\n                    <text\n                        textAnchor=\"middle\"\n                        dominantBaseline=\"central\"\n                        style={{\n                            ...theme.labels.text,\n                            fill: label.textColor,\n                        }}\n                    >\n                        {label.label}\n                    </text>\n                </g>\n            ))}\n        </>\n    )\n}\n","import React from 'react'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { CompletePieSvgProps, ComputedDatum } from './types'\n\ninterface PieLegendsProps<RawDatum> {\n    width: number\n    height: number\n    legends: CompletePieSvgProps<RawDatum>['legends']\n    dataWithArc: ComputedDatum<RawDatum>[]\n}\n\n// prettier-ignore\nconst PieLegends = <RawDatum, >({ width, height, legends, dataWithArc }: PieLegendsProps<RawDatum>) => {\n    return (\n        <>\n            {legends.map((legend, i) => (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={dataWithArc}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default PieLegends\n","import React, { ReactNode, Fragment, createElement } from 'react'\n// @ts-ignore\nimport { withContainer, SvgWrapper, bindDefs, useTheme, useDimensions } from '@nivo/core'\nimport {\n    // @ts-ignore\n    useInheritedColor,\n    InheritedColorProp,\n} from '@nivo/colors'\nimport { PieSlice } from './PieSlice'\nimport { RadialLabels } from './RadialLabels'\nimport { SliceLabels } from './SliceLabels'\nimport PieLegends from './PieLegends'\nimport { useNormalizedData, usePieFromBox, usePieLayerContext } from './hooks'\nimport { ComputedDatum, PieLayer, PieSvgProps, PieLayerId } from './types'\nimport { defaultProps } from './props'\n\n// prettier-ignore\nconst Pie = <RawDatum, >({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    layers = defaultProps.layers as PieLayer<RawDatum>[],\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor: _borderColor = defaultProps.borderColor as InheritedColorProp<ComputedDatum<RawDatum>>,\n\n    // radial labels\n    radialLabel = defaultProps.radialLabel,\n    enableRadialLabels = defaultProps.enableRadialLabels,\n    radialLabelsSkipAngle = defaultProps.radialLabelsSkipAngle,\n    radialLabelsLinkOffset = defaultProps.radialLabelsLinkOffset,\n    radialLabelsLinkDiagonalLength = defaultProps.radialLabelsLinkDiagonalLength,\n    radialLabelsLinkHorizontalLength = defaultProps.radialLabelsLinkHorizontalLength,\n    radialLabelsLinkStrokeWidth = defaultProps.radialLabelsLinkStrokeWidth,\n    radialLabelsTextXOffset = defaultProps.radialLabelsTextXOffset,\n    radialLabelsTextColor = defaultProps.radialLabelsTextColor,\n    radialLabelsLinkColor = defaultProps.radialLabelsLinkColor,\n\n    // slices labels\n    sliceLabel = defaultProps.sliceLabel,\n    enableSliceLabels = defaultProps.enableSliceLabels,\n    sliceLabelsSkipAngle = defaultProps.sliceLabelsSkipAngle,\n    sliceLabelsTextColor = defaultProps.sliceLabelsTextColor,\n    sliceLabelsRadiusOffset = defaultProps.sliceLabelsRadiusOffset,\n\n    // styling\n    defs = defaultProps.defs,\n    fill = defaultProps.fill,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    tooltip = defaultProps.tooltip,\n\n    legends = defaultProps.legends,\n    role = defaultProps.role,\n}: PieSvgProps<RawDatum>) => {\n    const theme = useTheme()\n\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const { dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n    })\n\n    const borderColor = useInheritedColor(_borderColor, theme)\n\n    const boundDefs = bindDefs(defs, dataWithArc, fill)\n\n    const layerById: Record<PieLayerId, ReactNode> = {\n        slices: null,\n        radialLabels: null,\n        sliceLabels: null,\n        legends: null,\n    }\n\n    if (layers.includes('slices')) {\n        layerById.slices = (\n            <g key=\"slices\" transform={`translate(${centerX},${centerY})`}>\n                {dataWithArc.map(datumWithArc => (\n                    <PieSlice<RawDatum>\n                        key={datumWithArc.id}\n                        datum={datumWithArc}\n                        path={arcGenerator(datumWithArc.arc)}\n                        borderWidth={borderWidth}\n                        borderColor={borderColor(datumWithArc)}\n                        tooltip={tooltip}\n                        isInteractive={isInteractive}\n                        onClick={onClick}\n                        onMouseEnter={onMouseEnter}\n                        onMouseMove={onMouseMove}\n                        onMouseLeave={onMouseLeave}\n                    />\n                ))}\n            </g>\n        )\n    }\n\n    if (enableRadialLabels && layers.includes('radialLabels')) {\n        layerById.radialLabels = (\n            <g key=\"radialLabels\" transform={`translate(${centerX},${centerY})`}>\n                <RadialLabels<RawDatum>\n                    dataWithArc={dataWithArc}\n                    radius={radius}\n                    label={radialLabel}\n                    skipAngle={radialLabelsSkipAngle}\n                    linkOffset={radialLabelsLinkOffset}\n                    linkDiagonalLength={radialLabelsLinkDiagonalLength}\n                    linkHorizontalLength={radialLabelsLinkHorizontalLength}\n                    linkStrokeWidth={radialLabelsLinkStrokeWidth}\n                    textXOffset={radialLabelsTextXOffset}\n                    textColor={radialLabelsTextColor}\n                    linkColor={radialLabelsLinkColor}\n                />\n            </g>\n        )\n    }\n\n    if (enableSliceLabels && layers.includes('sliceLabels')) {\n        layerById.sliceLabels = (\n            <g key=\"sliceLabels\" transform={`translate(${centerX},${centerY})`}>\n                <SliceLabels<RawDatum>\n                    dataWithArc={dataWithArc}\n                    label={sliceLabel}\n                    radius={radius}\n                    innerRadius={innerRadius}\n                    radiusOffset={sliceLabelsRadiusOffset}\n                    skipAngle={sliceLabelsSkipAngle}\n                    textColor={sliceLabelsTextColor}\n                />\n            </g>\n        )\n    }\n\n    if (legends.length > 0 && layers.includes('legends')) {\n        layerById.legends = (\n            <PieLegends<RawDatum>\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                dataWithArc={dataWithArc}\n                legends={legends}\n            />\n        )\n    }\n\n    const layerContext = usePieLayerContext<RawDatum>({\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n    })\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            theme={theme}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (layerById[layer as PieLayerId] !== undefined) {\n                    return layerById[layer as PieLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport default withContainer(Pie) as <RawDatum>(props: PieSvgProps<RawDatum>) => JSX.Element\n","import React from 'react'\n// @ts-ignore\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Pie from './Pie'\nimport { PieSvgProps } from './types'\n\n// prettier-ignore\nexport const ResponsivePie = <RawDatum, >(props: Omit<PieSvgProps<RawDatum>, 'width' | 'height'>) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number, height: number }) => <Pie<RawDatum> width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { createElement, useEffect, useMemo, useRef } from 'react'\nimport {\n    // @ts-ignore\n    getHoveredArc,\n    // @ts-ignore\n    getRelativeCursor,\n    // @ts-ignore\n    textPropsByEngine,\n    // @ts-ignore\n    useDimensions,\n    // @ts-ignore\n    useTheme,\n    // @ts-ignore\n    withContainer,\n    Theme,\n} from '@nivo/core'\n// @ts-ignore\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport {\n    // @ts-ignore\n    useInheritedColor,\n    InheritedColorProp,\n} from '@nivo/colors'\n// @ts-ignore\nimport { useTooltip } from '@nivo/tooltip'\nimport { useNormalizedData, usePieFromBox, usePieRadialLabels, usePieSliceLabels } from './hooks'\nimport { ComputedDatum, PieCanvasProps, RadialLabelData, SliceLabelData } from './types'\nimport { defaultProps } from './props'\n\n// prettier-ignore\nconst drawSliceLabels = <RawDatum, >(\n    ctx: CanvasRenderingContext2D,\n    labels: SliceLabelData<RawDatum>[],\n    theme: Theme\n) => {\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels!.text!.fontSize}px ${theme.labels!.text!.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.save()\n        ctx.translate(label.x, label.y)\n        ctx.fillStyle = label.textColor\n        ctx.fillText(`${label.label}`, 0, 0)\n        ctx.restore()\n    })\n}\n\n// prettier-ignore\nconst drawRadialLabels = <RawDatum, >(\n    ctx: CanvasRenderingContext2D,\n    labels: RadialLabelData<RawDatum>[],\n    theme: Theme,\n    linkStrokeWidth: number\n) => {\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels!.text!.fontSize}px ${theme.labels!.text!.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.save()\n        ctx.translate(label.position.x, label.position.y)\n        ctx.fillStyle = label.textColor\n        ctx.textAlign = textPropsByEngine.canvas.align[label.align]\n        ctx.fillText(`${label.text}`, 0, 0)\n        ctx.restore()\n\n        ctx.beginPath()\n        ctx.strokeStyle = label.linkColor\n        ctx.lineWidth = linkStrokeWidth\n        label.line.forEach((point, index) => {\n            if (index === 0) ctx.moveTo(point.x, point.y)\n            else ctx.lineTo(point.x, point.y)\n        })\n        if (linkStrokeWidth > 0) ctx.stroke()\n    })\n}\n\n// prettier-ignore\nconst PieCanvas = <RawDatum, >({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio = 1,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorProp<ComputedDatum<RawDatum>>,\n\n    // radial labels\n    radialLabel = defaultProps.radialLabel,\n    enableRadialLabels = defaultProps.enableRadialLabels,\n    radialLabelsSkipAngle = defaultProps.radialLabelsSkipAngle,\n    radialLabelsLinkOffset = defaultProps.radialLabelsLinkOffset,\n    radialLabelsLinkDiagonalLength = defaultProps.radialLabelsLinkDiagonalLength,\n    radialLabelsLinkHorizontalLength = defaultProps.radialLabelsLinkHorizontalLength,\n    radialLabelsLinkStrokeWidth = defaultProps.radialLabelsLinkStrokeWidth,\n    radialLabelsTextXOffset = defaultProps.radialLabelsTextXOffset,\n    radialLabelsTextColor = defaultProps.radialLabelsTextColor,\n    radialLabelsLinkColor = defaultProps.radialLabelsLinkColor,\n\n    // slices labels\n    sliceLabel = defaultProps.sliceLabel,\n    enableSliceLabels = defaultProps.enableSliceLabels,\n    sliceLabelsSkipAngle = defaultProps.sliceLabelsSkipAngle,\n    sliceLabelsTextColor = defaultProps.sliceLabelsTextColor,\n    sliceLabelsRadiusOffset = defaultProps.sliceLabelsRadiusOffset,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseMove,\n    tooltip = defaultProps.tooltip,\n\n    legends = defaultProps.legends,\n}: PieCanvasProps<RawDatum>) => {\n    const canvasEl = useRef<HTMLCanvasElement | null>(null)\n    const theme = useTheme()\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const { dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n    })\n\n    const getBorderColor = useInheritedColor(borderColor, theme)\n\n    const radialLabels = usePieRadialLabels<RawDatum>({\n        enable: enableRadialLabels,\n        dataWithArc,\n        label: radialLabel,\n        textXOffset: radialLabelsTextXOffset,\n        textColor: radialLabelsTextColor,\n        radius,\n        skipAngle: radialLabelsSkipAngle,\n        linkOffset: radialLabelsLinkOffset,\n        linkDiagonalLength: radialLabelsLinkDiagonalLength,\n        linkHorizontalLength: radialLabelsLinkHorizontalLength,\n        linkColor: radialLabelsLinkColor,\n    })\n\n    const sliceLabels = usePieSliceLabels<RawDatum>({\n        enable: enableSliceLabels,\n        dataWithArc,\n        label: sliceLabel,\n        radius,\n        innerRadius,\n        radiusOffset: sliceLabelsRadiusOffset,\n        skipAngle: sliceLabelsSkipAngle,\n        textColor: sliceLabelsTextColor,\n    })\n\n    useEffect(() => {\n        if (!canvasEl.current) return\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')!\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n\n        ctx.save()\n        ctx.translate(margin.left, margin.top);\n\n        (arcGenerator as any).context(ctx)\n\n        ctx.save()\n        ctx.translate(centerX, centerY)\n\n        dataWithArc.forEach(arc => {\n            ctx.beginPath()\n            ctx.fillStyle = arc.color\n\n            ctx.strokeStyle = getBorderColor(arc)\n            ctx.lineWidth = borderWidth\n\n            arcGenerator(arc.arc)\n\n            ctx.fill()\n\n            if (borderWidth > 0) {\n                ctx.stroke()\n            }\n        })\n\n        if (enableRadialLabels === true) {\n            drawRadialLabels(ctx, radialLabels, theme, radialLabelsLinkStrokeWidth)\n        }\n\n        if (enableSliceLabels === true) {\n            drawSliceLabels(ctx, sliceLabels, theme)\n        }\n\n        // legends assume a box rather than a center,\n        // that's why we restore previously saved position here.\n        ctx.restore()\n        legends.forEach(legend => {\n            renderLegendToCanvas(ctx, {\n                ...legend,\n                data: dataWithArc,\n                containerWidth: innerWidth,\n                containerHeight: innerHeight,\n                theme,\n            })\n        })\n    }, [\n        canvasEl,\n        innerWidth,\n        innerHeight,\n        outerWidth,\n        outerHeight,\n        margin.top,\n        margin.left,\n        pixelRatio,\n        centerX,\n        centerY,\n        arcGenerator,\n        dataWithArc,\n        getBorderColor,\n        enableRadialLabels,\n        radialLabels,\n        enableSliceLabels,\n        sliceLabels,\n        legends,\n        theme,\n    ])\n\n    const arcs = useMemo(\n        () =>\n            dataWithArc.map(datum => ({\n                id: datum.id,\n                ...datum.arc,\n            })),\n        [dataWithArc]\n    )\n\n    const getArcFromMouse = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        const [x, y] = getRelativeCursor(canvasEl.current, event)\n\n        const hoveredArc = getHoveredArc(\n            margin.left + centerX,\n            margin.top + centerY,\n            radius,\n            innerRadius,\n            arcs,\n            x,\n            y\n        )\n\n        if (!hoveredArc) return null\n\n        return dataWithArc.find(datum => datum.id === hoveredArc.id)\n    }\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        const datum = getArcFromMouse(event)\n        if (datum) {\n            onMouseMove?.(datum, event)\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n        } else {\n            hideTooltip()\n        }\n    }\n\n    const handleMouseLeave = () => {\n        hideTooltip()\n    }\n\n    const handleClick = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!onClick) return\n\n        const arc = getArcFromMouse(event)\n        if (arc) {\n            onClick(arc, event)\n        }\n    }\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nexport default withContainer(PieCanvas) as <RawDatum>(\n    props: PieCanvasProps<RawDatum>\n) => JSX.Element\n"],"sourceRoot":""}