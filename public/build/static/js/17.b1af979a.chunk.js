(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[17],{140:function(e,t,r){"use strict";r.r(t);var a=r(159),n=r.n(a),c=r(161),o=r(31),s=r(32),u=r(33),i=r(51),l=r(34),p=r(35),d=r(0),b=r(268),f=r(179),v=r(184),m=r(160),j=r(185),O=r(4),h={colors:"#86a315",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Air pressure (bar)"},x={colors:"#e37222",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Air pressure (bar)"},w=function(e){var t,r=e.data,a=e.id;"TopAPT"===a&&(t=h),"BottomAPT"===a&&(t=x);var n=[{id:a,data:[{x:(new Date).toISOString(),y:0}]}],c="undefined"!=typeof r[0].data&&r[0].data.length>0?r:n;return Object(O.jsx)(j.a,Object(o.a)(Object(o.a)({},t),{},{data:c}))},g=r(150),P=r(151),A=r(711),y=r.n(A),T=r(169),D=r(182),V=r(175),k=r(172);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var S=d.createElement("defs",null,d.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),_=d.createElement("path",{className:"cls-1",d:"M18.71,9.24a1,1,0,0,0-1.3.56h0l-1.63,4.06a2.17,2.17,0,1,0,2.38,1.94,2.24,2.24,0,0,0-.52-1.2l1.62-4.06A1,1,0,0,0,18.71,9.24Z"}),B=d.createElement("path",{className:"cls-1",d:"M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm9.4,14a9.39,9.39,0,0,1-3.5,7.31l1.84,1.84a11.94,11.94,0,0,1-15.48,0l1.85-1.84L8.69,21.89,6.85,23.74A11.86,11.86,0,0,1,4.05,17H6.67V15H4.05a11.86,11.86,0,0,1,2.8-6.74l1.84,1.85,1.42-1.42L8.26,6.85A11.86,11.86,0,0,1,15,4.05V6.67h2V4.05a11.86,11.86,0,0,1,6.74,2.8L21.89,8.69l1.42,1.42,1.84-1.85A11.89,11.89,0,0,1,28,15H25.34C25.34,15.33,25.4,15.66,25.4,16Z"}),N=d.createElement("rect",{className:"cls-2",width:32,height:32});function I(e,t){var r=e.title,a=e.titleId,n=R(e,["title","titleId"]);return d.createElement("svg",E({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":a},n),r?d.createElement("title",{id:a},r):null,S,_,B,N)}var F=d.forwardRef(I),Z=(r.p,r(162)),C=r.n(Z),H={icon:Object(O.jsx)(F,{}),title:"Air pressure sensor",type:3},L={icon:Object(O.jsx)(F,{}),title:"Air pressure sensor",type:3},M=["Error",{description:"Sensor device not found."}],G=C.a.range(1,7),W=(C.a.map(G,(function(e){return{key:e,text:"AP-".concat(e),value:e}})),r(1087)),q=function(e,t,r){return"BottomAPD"===t||"TopAPD"===t?"/".concat(e,"/deck-").concat(r):"/".concat(e,"/").concat(r)},U=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c,o,s,u,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a instanceof Array,!("string"===typeof a)){e.next=16;break}return o=q(t,r,a),s=!1,e.prev=5,e.next=8,D.a.get(k.a,o);case 8:s=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),W.a.danger.apply(W.a,Object(T.a)(M)),console.error("[connectServer]: Request to server API failed (GET)");case 15:return e.abrupt("return",s);case 16:if(!c){e.next=30;break}return u="sensor_air_pressure_".concat(t,".csv"),i=!1,e.prev=19,e.next=22,D.a.post(k.a,"/",{filename:u,timeRange:a});case 22:i=e.sent,e.next=29;break;case 25:e.prev=25,e.t1=e.catch(19),W.a.danger.apply(W.a,Object(T.a)(M)),console.error("[connectServer]: Request to server API failed (POST)");case 29:return e.abrupt("return",i);case 30:case"end":return e.stop()}}),e,null,[[5,11],[19,25]])})));return function(t,r,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,r,a);case 2:o=e.sent,e.t0=r,e.next="BottomAPD"===e.t0||"TopAPD"===e.t0?6:"BottomAPT"===e.t0||"TopAPT"===e.t0?8:10;break;case 6:return c=V.a.run(o,a,1),e.abrupt("break",11);case 8:return c=o,e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,k.a.get("/dropdowns/".concat(t));case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("[getDataForDropdown]: Request to server API failed (GET)"),e.abrupt("return",r);case 11:return e.abrupt("return",a.data);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}(),z=function(e){return"currentValueDropdown".concat(e)},K=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return(e=t.call.apply(t,[this].concat(u))).optionsDropdownAP=[{key:1,text:"AP1",value:1}],e.state={api:{dataBottomAPD:{average:{avgTimeRange:0,avgPrevTimeRange:0},maxValue:0,minValue:0},dataTopAPD:{average:{avgTimeRange:0,avgPrevTimeRange:0},maxValue:0,minValue:0},dataBottomAPT:[],dataTopAPT:[]},currentTimeRange:{currentTimeRangeBottomAPD:"week",currentTimeRangeBottomAPT:"week",currentTimeRangeTopAPD:"week",currentTimeRangeTopAPT:"week"},currentValueDropdown:{currentValueDropdownBottomAPD:1,currentValueDropdownBottomAPT:1,currentValueDropdownTopAPD:1,currentValueDropdownTopAPT:1}},e.updateDropdownState=function(t,r,a){var n=r.value;return e.setState((function(e){var t="currentValueDropdown".concat(a),r=Object(o.a)({},e);return r.currentValueDropdown[t]=n,{nextUpdate:r}}))},e.getDataFromServer=function(){var t=Object(c.a)(n.a.mark((function t(r,a){var c,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.state.currentValueDropdown[z(r)],t.next=3,J(c,r,a);case 3:s=t.sent,e.setState((function(e){var t=Object(o.a)({},e),n="data".concat(r),c="currentTimeRange".concat(r);return t.currentTimeRange[c]=a,t.api[n]=s,{nextUpdate:t}}));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.createContextValues=function(t){var r=e.state.currentValueDropdown,a=Object(i.a)(e),n={getDataFromServer:a.getDataFromServer,updateDropdownState:a.updateDropdownState};return t.map((function(e){return Object(o.a)(Object(o.a)({},n),{},{id:e,currentValueDropdown:r["currentValueDropdown".concat(e)]})}))},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{key:1,text:"AP1",value:1}],e.next=3,X("air-pressure",t);case 3:this.optionsDropdownAP=e.sent,this.updateDataOnScreen(),this.timerID=setInterval((function(){return r.updateDataOnScreen()}),36e5);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"updateDataOnScreen",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a,o,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,r=t.currentTimeRange,a=t.currentValueDropdown,o=["BottomAPD","BottomAPT","TopAPD","TopAPT"],e.next=4,Promise.all(o.map(function(){var e=Object(c.a)(n.a.mark((function e(t){var c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a["currentValueDropdown".concat(t)],o=r["currentTimeRange".concat(t)],e.next=4,J(c,t,o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:s=e.sent,this.setState({api:{dataBottomAPD:s[0],dataBottomAPT:s[1],dataTopAPD:s[2],dataTopAPT:s[3]}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.createContextValues,t=this.optionsDropdownAP,r=this.state.api,a=r.dataBottomAPD,n=r.dataBottomAPT,c=r.dataTopAPD,s=r.dataTopAPT,u=this.state.currentTimeRange,i=u.currentTimeRangeBottomAPD,l=u.currentTimeRangeTopAPD,p=e(["TopAPT","BottomAPT","TopAPD","BottomAPD"]),d=Object(O.jsx)(b.a,{data:c,timeRange:l,units:"bar"}),j=Object(O.jsx)(b.a,{data:a,timeRange:i,units:"bar"}),h=Object(O.jsx)(f.a,{options:t}),x=Object(O.jsx)(w,{id:"BottomAPT",data:[{id:"Air pressure",data:n}]}),A=Object(O.jsx)(w,{id:"TopAPT",data:[{id:"Air pressure",data:s}]});return Object(O.jsxs)(g.a,{className:y.a.airPressure,children:[Object(O.jsxs)(P.a,{className:y.a.left,children:[Object(O.jsx)("div",{className:y.a.top,children:Object(O.jsx)(m.a.Provider,{value:p[0],children:Object(O.jsx)(v.a,Object(o.a)(Object(o.a)({},H),{},{graph:A,dropdown:h}))})}),Object(O.jsx)("div",{className:y.a.bottom,children:Object(O.jsx)(m.a.Provider,{value:p[1],children:Object(O.jsx)(v.a,Object(o.a)(Object(o.a)({},H),{},{graph:x,dropdown:h}))})})]}),Object(O.jsxs)(P.a,{className:y.a.right,children:[Object(O.jsx)("div",{className:y.a.top,children:Object(O.jsx)(m.a.Provider,{value:p[2],children:Object(O.jsx)(v.a,Object(o.a)(Object(o.a)({},L),{},{graph:d,dropdown:h}))})}),Object(O.jsx)("div",{className:y.a.bottom,children:Object(O.jsx)(m.a.Provider,{value:p[3],children:Object(O.jsx)(v.a,Object(o.a)(Object(o.a)({},L),{},{graph:j,dropdown:h}))})})]})]})}}]),r}(d.Component);t.default=K},179:function(e,t,r){"use strict";var a=r(0),n=r(1086),c=r(160),o=r(180),s=r.n(o),u=r(4);t.a=function(e){var t=e.options,r=Object(a.useContext)(c.a),o=r.id,i=r.currentValueDropdown,l=r.updateDropdownState;return Object(u.jsx)(n.a,{className:s.a.dropdown,options:t,placeholder:"Select",selection:!0,onChange:function(e,t){var r=t.value;return l(e,{value:r},o)},value:i})}},180:function(e,t,r){e.exports={dropdown:"Dropdown_dropdown__37I9C"}},191:function(e,t,r){"use strict";r(0),r(192);var a=r(4);t.a=function(e){var t=e.icon,r=e.units,n=e.value;return Object(a.jsxs)("div",{className:"cardWithoutFooter",children:[Object(a.jsx)("div",{className:"header",children:t}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("span",{className:"value",children:n}),Object(a.jsx)("span",{className:"units",children:r})]})]})}},192:function(e,t,r){},208:function(e,t,r){"use strict";r(0),r(209);var a=r(4);t.a=function(e){var t=e.cards;return Object(a.jsx)("div",{className:"deck",children:t.map((function(e,t){return Object(a.jsx)("div",{className:"cardBox",children:e},t)}))})}},209:function(e,t,r){},268:function(e,t,r){"use strict";var a=r(31),n=r(0),c=r(206),o=r(191),s=r(207);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),p=n.createElement("path",{className:"cls-1",d:"M4,4V6H28V4Zm12,5.7-5.62,4.5a1,1,0,0,0,1.24,1.56L15,13.08V28h2V13.08l3.38,2.7A1,1,0,0,0,21,16a1,1,0,0,0,.78-.38,1,1,0,0,0-.16-1.4Z"}),d=n.createElement("rect",{className:"cls-2",width:32,height:32});function b(e,t){var r=e.title,a=e.titleId,c=i(e,["title","titleId"]);return n.createElement("svg",u({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,l,p,d)}var f=n.forwardRef(b);r.p;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var j=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),O=n.createElement("path",{className:"cls-1",d:"M4,26v2H28V26Zm12-3.72,5.62-4.5a1,1,0,1,0-1.24-1.56L17,18.92V4H15V18.92l-3.38-2.7a1,1,0,0,0-1.24,1.56Z"}),h=n.createElement("rect",{className:"cls-2",width:32,height:32});function x(e,t){var r=e.title,a=e.titleId,c=m(e,["title","titleId"]);return n.createElement("svg",v({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,j,O,h)}var w=n.forwardRef(x),g=(r.p,r(4)),P=function(e){return 1===e.type?Object(g.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{icon:Object(g.jsx)(s.a,{})})):2===e.type?Object(g.jsx)(o.a,Object(a.a)(Object(a.a)({},e),{},{icon:Object(g.jsx)(f,{})})):3===e.type?Object(g.jsx)(o.a,Object(a.a)(Object(a.a)({},e),{},{icon:Object(g.jsx)(w,{})})):void 0},A=r(208),y=r(175),T=y.a.setFooterLabel,D=y.a.setFooterValue;t.a=function(e){var t=e.data,r=e.timeRange,c=e.units,o=t.average,s=o.avgTimeRange,u=o.avgPrevTimeRange,i=[{label:T(r,s,u),previousValue:D(r,u,c),type:1,value:s,units:c},{type:2,value:t.maxValue,units:c},{type:3,value:t.minValue,units:c}].map((function(e){return Object(g.jsx)(P,Object(a.a)({},e))}));return Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(A.a,{cards:i})})}},711:function(e,t,r){e.exports={airPressure:"AirPressure_airPressure__2KvcW",left:"AirPressure_left__GWTwf",top:"AirPressure_top__11eQ_",bottom:"AirPressure_bottom__11zZl",right:"AirPressure_right__3Gvca"}}}]);
//# sourceMappingURL=17.b1af979a.chunk.js.map