(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[19],{143:function(e,t,a){"use strict";a.r(t);var r=a(159),n=a.n(r),c=a(161),o=a(31),s=a(32),i=a(33),u=a(51),l=a(34),p=a(35),d=a(0),v=a(387),b=a(179),f=a(184),m=a(160),h=a(185),j=a(4),w={colors:"#86a315",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Powder (kg)"},O={colors:"#e37222",enableArea:!1,translateX:-30,xtitle:"Date",ytitle:"Powder (kg)"},g=function(e){var t,a=e.data,r=e.id;"SPCTT"===r&&(t=w),"SPCRT"===r&&(t=O);var n=[{id:r,data:[{x:(new Date).toISOString(),y:0}]}],c="undefined"!=typeof a[0].data&&a[0].data.length>0?a:n;return Object(j.jsx)(h.a,Object(o.a)(Object(o.a)({},t),{},{data:c}))},P=a(150),x=a(151),S=a(936),T=a.n(S),y=a(169),D=a(182),R=a(175),C=a(172);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var E=d.createElement("defs",null,d.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),V=d.createElement("path",{className:"cls-1",d:"M23,10H13a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"}),N=d.createElement("path",{className:"cls-1",d:"M13,20a1,1,0,0,0,0,2h3l2-2Z"}),I=d.createElement("path",{className:"cls-1",d:"M13,17h8l2-2H13a1,1,0,0,0,0,2Z"}),A=d.createElement("rect",{className:"cls-1",x:8,y:15,width:2,height:2}),F=d.createElement("rect",{className:"cls-1",x:8,y:10,width:2,height:2}),H=d.createElement("path",{className:"cls-1",d:"M12,26H6V6H26v6l2-2V5a1,1,0,0,0-1-1H5A1,1,0,0,0,4,5V27a1,1,0,0,0,1,1h5Z"}),Z=d.createElement("rect",{className:"cls-1",x:8,y:20,width:2,height:2}),M=d.createElement("path",{className:"cls-1",d:"M14,26.67V30h3.33l9.83-9.83-3.33-3.33Zm15.74-9.08a.87.87,0,0,0,0-1.24h0l-2.08-2.08a.87.87,0,0,0-1.24,0h0l-1.63,1.63,3.33,3.33Z"}),B=d.createElement("rect",{className:"cls-2",width:32,height:32});function q(e,t){var a=e.title,r=e.titleId,n=_(e,["title","titleId"]);return d.createElement("svg",k({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},n),a?d.createElement("title",{id:r},a):null,E,V,N,I,A,F,H,Z,M,B)}var z=d.forwardRef(q),U=(a.p,a(203)),G=a(162),J=a.n(G),Q={icon:Object(j.jsx)(z,{}),title:"Sprayed powder calculated - Recipe",type:3},W={icon:Object(j.jsx)(U.a,{}),title:"Sprayed powder calculated - Total",type:1},X={icon:Object(j.jsx)(z,{}),title:"Per recipe",type:3},L={icon:Object(j.jsx)(U.a,{}),title:"Per total",type:1},K=["Error",{description:"Resource not found"}],Y=J.a.range(1,256),$=(J.a.map(Y,(function(e){return{key:e,text:"R".concat(e),value:e}})),a(1087)),ee=function(e,t,a){var r;switch(t){case"SPCRD":r="/recipes/".concat(e,"/deck-").concat(a);break;case"SPCTD":r="/total/deck-".concat(a);break;case"SPCRT":r="/recipes/".concat(e,"/").concat(a);break;case"SPCTT":r="/total/".concat(a)}return r},te=function(e,t){var a;switch(t){case"SPCRD":case"SPCRT":a="sprayed_powder_recipe_".concat(e,".csv");break;case"SPCTD":case"SPCTT":a="sprayed_powder_total.csv"}return a},ae=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,o,s,i,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r instanceof Array,!("string"===typeof r)){e.next=16;break}return o=ee(t,a,r),s=!1,e.prev=5,e.next=8,D.a.get(C.i,o);case 8:s=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),$.a.danger.apply($.a,Object(y.a)(K)),console.error("[connectServer]: Request to server API failed (GET)");case 15:return e.abrupt("return",s);case 16:if(!c){e.next=30;break}return i=te(t,a),u=!1,e.prev=19,e.next=22,D.a.post(C.i,"/",{filename:i,timeRange:r});case 22:u=e.sent,e.next=29;break;case 25:e.prev=25,e.t1=e.catch(19),$.a.danger.apply($.a,Object(y.a)(K)),console.error("[connectServer]: Request to server API failed (POST)");case 29:return e.abrupt("return",u);case 30:case"end":return e.stop()}}),e,null,[[5,11],[19,25]])})));return function(t,a,r){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,a,r);case 2:o=e.sent,e.t0=a,e.next="SPCRD"===e.t0||"SPCTD"===e.t0?6:"SPCRT"===e.t0||"SPCTT"===e.t0?8:10;break;case 6:return c=R.a.run(o,r,2),e.abrupt("break",11);case 8:return c=o,e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,e.next=4,C.i.get("/dropdowns/".concat(t));case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("[getDataForDropdown]: Request to server API failed (GET)"),e.abrupt("return",a);case 11:return e.abrupt("return",r.data);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(e){return"currentValueDropdown".concat(e)},oe=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).optionsDropdownSPCR=[{key:1,text:"R1",value:1}],e.state={api:{dataSPCRD:{average:{avgTimeRange:0,avgPrevTimeRange:0},total:{totalTimeRange:0,totalPrevTimeRange:0}},dataSPCTD:{average:{avgTimeRange:0,avgPrevTimeRange:0},total:{totalTimeRange:0,totalPrevTimeRange:0}},dataSPCRT:[],dataSPCTT:[]},currentTimeRange:{currentTimeRangeSPCRD:"week",currentTimeRangeSPCRT:"week",currentTimeRangeSPCTT:"week",currentTimeRangeSPCTD:"week"},currentValueDropdown:{currentValueDropdownSPCRD:1,currentValueDropdownSPCRT:1,currentValueDropdownSPCTD:1,currentValueDropdownSPCTT:1}},e.updateDropdownState=function(t,a,r){var n=a.value;return e.setState((function(e){var t="currentValueDropdown".concat(r),a=Object(o.a)({},e);return a.currentValueDropdown[t]=n,{nextUpdate:a}}))},e.getDataFromServer=function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.state.currentValueDropdown[ce(a)],t.next=3,re(c,a,r);case 3:s=t.sent,e.setState((function(e){var t="data".concat(a),n="currentTimeRange".concat(a),c=Object(o.a)({},e);return c.currentTimeRange[n]=r,c.api[t]=s,{nextUpdate:c}}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.createContextValues=function(t){var a=e.state.currentValueDropdown,r=Object(u.a)(e),n={getDataFromServer:r.getDataFromServer,updateDropdownState:r.updateDropdownState};return t.map((function(e){return Object(o.a)(Object(o.a)({},n),{},{id:e,currentValueDropdown:a["currentValueDropdown".concat(e)]})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{key:1,text:"R1",value:1}],e.next=3,ne("recipes",t);case 3:this.optionsDropdownSPCR=e.sent,this.updateDataOnScreen(),this.timerID=setInterval((function(){return a.updateDataOnScreen()}),1e4);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"updateDataOnScreen",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,o,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.currentTimeRange,r=t.currentValueDropdown,o=["SPCRD","SPCRT","SPCTD","SPCTT"],e.next=4,Promise.all(o.map(function(){var e=Object(c.a)(n.a.mark((function e(t){var c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r["currentValueDropdown".concat(t)],o=a["currentTimeRange".concat(t)],e.next=4,re(c,t,o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:s=e.sent,this.setState({api:{dataSPCRD:s[0],dataSPCRT:s[1],dataSPCTD:s[2],dataSPCTT:s[3]}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.createContextValues,t=this.optionsDropdownSPCR,a=this.state.api,r=a.dataSPCRD,n=a.dataSPCRT,c=a.dataSPCTD,s=a.dataSPCTT,i=this.state.currentTimeRange,u=i.currentTimeRangeSPCRD,l=i.currentTimeRangeSPCTD,p=e(["SPCTT","SPCRT","SPCTD","SPCRD"]),d=Object(j.jsx)(v.a,{data:r,timeRange:u,units:"kg",orientation:"h"}),h=Object(j.jsx)(v.a,{data:c,timeRange:l,units:"kg",orientation:"h"}),w=Object(j.jsx)(b.a,{options:t}),O=Object(j.jsx)(g,{id:"SPCRT",data:[{id:"Recipe",data:n}]}),S=Object(j.jsx)(g,{id:"SPCTT",data:[{id:"Total",data:s}]});return Object(j.jsxs)(P.a,{className:T.a.sprayedPowder,children:[Object(j.jsxs)(x.a,{className:T.a.left,children:[Object(j.jsx)("div",{className:T.a.top,children:Object(j.jsx)(m.a.Provider,{value:p[0],children:Object(j.jsx)(f.a,Object(o.a)(Object(o.a)({},W),{},{graph:S}))})}),Object(j.jsx)("div",{className:T.a.bottom,children:Object(j.jsx)(m.a.Provider,{value:p[1],children:Object(j.jsx)(f.a,Object(o.a)(Object(o.a)({},Q),{},{graph:O,dropdown:w}))})})]}),Object(j.jsxs)(x.a,{className:T.a.right,children:[Object(j.jsx)("div",{className:T.a.top,children:Object(j.jsx)(m.a.Provider,{value:p[2],children:Object(j.jsx)(f.a,Object(o.a)(Object(o.a)({},L),{},{graph:h}))})}),Object(j.jsx)("div",{className:T.a.bottom,children:Object(j.jsx)(m.a.Provider,{value:p[3],children:Object(j.jsx)(f.a,Object(o.a)(Object(o.a)({},X),{},{graph:d,dropdown:w}))})})]})]})}}]),a}(d.Component);t.default=oe},179:function(e,t,a){"use strict";var r=a(0),n=a(1086),c=a(160),o=a(180),s=a.n(o),i=a(4);t.a=function(e){var t=e.options,a=Object(r.useContext)(c.a),o=a.id,u=a.currentValueDropdown,l=a.updateDropdownState;return Object(i.jsx)(n.a,{className:s.a.dropdown,options:t,placeholder:"Select",selection:!0,onChange:function(e,t){var a=t.value;return l(e,{value:a},o)},value:u})}},180:function(e,t,a){e.exports={dropdown:"Dropdown_dropdown__37I9C"}},203:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(0);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var o=r.createElement("defs",null,r.createElement("style",null,".cls-1{fill:#005293;}.cls-2{fill:none;}")),s=r.createElement("polygon",{className:"cls-1",points:"26 28 4.89 28 14.71 16 4.89 4 26 4 26 9 24 9 24 6 9.11 6 17.29 16 9.11 26 24 26 24 23 26 23 26 28"}),i=r.createElement("rect",{className:"cls-2",width:32,height:32});function u(e,t){var a=e.title,u=e.titleId,l=c(e,["title","titleId"]);return r.createElement("svg",n({id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":u},l),a?r.createElement("title",{id:u},a):null,o,s,i)}var l=r.forwardRef(u);a.p},387:function(e,t,a){"use strict";var r=a(31),n=(a(0),a(206)),c=a(175),o=a(388),s=a.n(o),i=a(203),u=a(207),l=a(4),p=c.a.setFooterLabel,d=c.a.setFooterValue;t.a=function(e){var t,a=e.data,c=e.timeRange,o=e.units,v=e.orientation;"h"===v&&(t=s.a.horizontalDeck),"v"===v&&(t=s.a.verticalDeck);var b=a.average,f=b.avgTimeRange,m=b.avgPrevTimeRange,h=a.total,j=h.totalTimeRange,w=h.totalPrevTimeRange,O=[{id:"total",icon:Object(l.jsx)(i.a,{}),label:p(c,j,w),previousValue:d(c,w,o),units:o,value:j},{id:"average",icon:Object(l.jsx)(u.a,{}),label:p(c,f,m),previousValue:d(c,m,o),units:o,value:f}];return Object(l.jsx)("div",{className:t,children:O.map((function(e){return Object(l.jsx)("div",{className:s.a.cardBox,children:Object(l.jsx)(n.a,Object(r.a)({},e))},e.id)}))})}},388:function(e,t,a){e.exports={horizontalDeck:"CustomDeck_2_horizontalDeck__2vFQQ",cardBox:"CustomDeck_2_cardBox__bTPC8",verticalDeck:"CustomDeck_2_verticalDeck__eN4Hs"}},936:function(e,t,a){e.exports={sprayedPowder:"SprayedPowder_sprayedPowder__3f-n5",left:"SprayedPowder_left__2lpTI",top:"SprayedPowder_top__3Wocp",bottom:"SprayedPowder_bottom__2ZoTd",right:"SprayedPowder_right__2N1Iy"}}}]);
//# sourceMappingURL=19.0dd80e62.chunk.js.map